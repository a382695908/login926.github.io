<!DOCTYPE html>
<html>
    <head>
    <!-- Title -->
    
    <title>
        网络流媒体下载的 10 种方法（以下载 Echo 音乐为例） | Raintone
    </title>
    
    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/Dinosaur.png">
    <link rel="icon" sizes="192x192" href="/img/Dinosaur.png">
    <link rel="apple-touch-icon" href="/img/head.gif">
    
    <!-- Meta & INfo -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Login926">
    <meta name="description" content="↑ 智障青年">
    <meta name="keywords" content="Login926">
    
    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">
    
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Raintone">
    
    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://login926.top">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="网络流媒体下载的 10 种方法（以下载 Echo 音乐为例） | Raintone">
    <meta property="og:description" content="↑ 智障青年">
    
     <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">
        
        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->
    
    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
	body, html{
		font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
	}
	
    a{
        color: #00838F
    }
    
    .mdl-card__media,
    #search-label,
    #search-form-label:after,
    #scheme-Paradox .hot_tags-count,
    #scheme-Paradox .sidebar_archives-count,
    #scheme-Paradox .sidebar-colored .sidebar-header,
    #scheme-Paradox .sidebar-colored .sidebar-badge{
        background-color: #0097A7 !important
    }
    
	/* Sidebar User Drop Down Menu Text Color */
	#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus{
        color: #0097A7 !important
    }
    
    #post_entry-right-info,
    .sidebar-colored .sidebar-nav li:hover > a,
    .sidebar-colored .sidebar-nav li:hover > a i,
    .sidebar-colored .sidebar-nav li > a:hover,
    .sidebar-colored .sidebar-nav li > a:hover i,
    .sidebar-colored .sidebar-nav li > a:focus i,
    .sidebar-colored .sidebar-nav > .open > a,
    .sidebar-colored .sidebar-nav > .open > a:hover,
    .sidebar-colored .sidebar-nav > .open > a:focus,
    #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a{
        color: #0097A7 !important
    }
    
    .toTop{
        background: #757575 !important
    }
		
	.material-layout .material-post>.material-nav,
	.material-layout .material-index>.material-nav,
	.material-nav a{
		color: #757575;
	}
		
	#scheme-Paradox .MD-burger-layer {
		background-color: #757575;
	}

	#scheme-Paradox #post-toc-trigger-btn{
		color: #757575;
	}
	
	.post-toc a:hover{
		color: #00838F;
		text-decoration: underline;
	}
</style>


<!-- Theme Background Related-->

    <style>
        body{
            background-image: url(/img/daily_pic.png);
        }
    </style>




<!-- Fade Effect -->

    <style>
        .fade {
            transition: all 800ms linear;
            -webkit-transform: translate3d(0,0,0);
            -moz-transform: translate3d(0,0,0);
            -ms-transform: translate3d(0,0,0);
            -o-transform: translate3d(0,0,0);
            transform: translate3d(0,0,0);
            opacity: 1;
        }

        .fade.out{
            opacity: 0;
        }
    </style>

	<script src="/js/jquery.min.js"></script>
	
	<link rel="stylesheet" href="/css/highlight/atom-one-dark.css">
	
	<!-- UC Browser Compatible-->
	<script>
		var agent = navigator.userAgent.toLowerCase();
		if(agent.indexOf('ucbrowser')>0) {
			document.write('<link rel="stylesheet" href="/css/uc.css">');
		   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
		}
	</script>
    
    <!-- Custom Head -->
    
</head>
	
	

    <body id="scheme-Paradox">

		
        <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
				
			
			
            <!-- Main Container -->
            <main class="material-layout__content" id="main">
				
                <!-- Top Anchor -->
                <div id="top"></div>
				
				
                <!-- Hamburger Button -->
                <button class="MD-burger-icon sidebar-toggle">
                    <span class="MD-burger-layer"></span>
                </button>
				
				
                <!-- Post TOC -->

    
	<!-- Back Button -->
<!--
	<div class="material-back" id="backhome-div" tabindex="0">
		<a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="#" onclick="window.history.back();return false;" target="_self" role="button" data-upgraded=",MaterialButton,MaterialRipple">
			<i class="material-icons" role="presentation">arrow_back</i>
			<span class="mdl-button__ripple-container">
				<span class="mdl-ripple"></span>
			</span>
		</a>
	</div>			
-->
	<!-- Left aligned menu below button -->
	<button id="post-toc-trigger-btn"
			class="mdl-button mdl-js-button mdl-button--icon">
	  <i class="material-icons">format_list_numbered</i>
	</button>

	<ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect"
		for="post-toc-trigger-btn">
			
			<ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#0x01-在-PC-上使用-Chrome-浏览器下载"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x01 在 PC 上使用 Chrome 浏览器下载</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-使用浏览器扩展"><span class="post-toc-number">1.0.0.1.</span> <span class="post-toc-text">1.使用浏览器扩展</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-使用-Chrome-开发者模式"><span class="post-toc-number">1.0.0.2.</span> <span class="post-toc-text">2.使用 Chrome 开发者模式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-使用-Chrome-审查元素"><span class="post-toc-number">1.0.0.3.</span> <span class="post-toc-text">3.使用 Chrome 审查元素</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-Chrome-配合-IDM-下载"><span class="post-toc-number">1.0.0.4.</span> <span class="post-toc-text">4.Chrome 配合 IDM 下载</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#0x02-借助-Python-下载"><span class="post-toc-number">2.</span> <span class="post-toc-text">0x02 借助 Python 下载</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-Python3"><span class="post-toc-number">2.0.0.1.</span> <span class="post-toc-text">1.Python3</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-Python2"><span class="post-toc-number">2.0.0.2.</span> <span class="post-toc-text">2.Python2</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#0x03-在-Android-设备上使用-Xposed-模块下载"><span class="post-toc-number">3.</span> <span class="post-toc-text">0x03 在 Android 设备上使用 Xposed 模块下载</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#0x04-使用抓包软件下载"><span class="post-toc-number">4.</span> <span class="post-toc-text">0x04 使用抓包软件下载</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-网页版-Echo-抓取"><span class="post-toc-number">4.0.0.1.</span> <span class="post-toc-text">1.网页版 Echo 抓取</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-使用流媒体抓取软件"><span class="post-toc-number">4.0.0.2.</span> <span class="post-toc-text">2.使用流媒体抓取软件</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-通过手机代理抓取-Echo-客户端中的音乐"><span class="post-toc-number">4.0.0.3.</span> <span class="post-toc-text">3.通过手机代理抓取 Echo 客户端中的音乐</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-在-Openwrt-路由器上抓包并下载"><span class="post-toc-number">4.0.0.4.</span> <span class="post-toc-text">4. 在 Openwrt 路由器上抓包并下载</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#0x05-其他的一些"><span class="post-toc-number">5.</span> <span class="post-toc-text">0x05 其他的一些</span></a></li></ol>
		
<!--			<li class="mdl-menu__item">Some Action</li>-->
	</ul>



<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">
		
        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
	<!-- Paradox Post Header -->
	
		<!-- Custom Thumbnail -->
		<div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://ooo.0o0.ooo/2016/07/30/579d69308a990.png)">
	
        <p class="article-headline-p">
            网络流媒体下载的 10 种方法（以下载 Echo 音乐为例）
        </p>
    </div>

	

				
				
					<!-- Paradox Post Info -->
					<div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">
    
    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://ooo.0o0.ooo/2016/07/30/579d6ad7910bd.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Login926</strong>
        <span>7月 06, 2016</span>
    </div>
    
    <div class="section-spacer"></div>
	
    <!-- Favorite -->
<!--
    <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
        <i class="material-icons" role="presentation">favorite</i>
        <span class="visuallyhidden">favorites</span>
    </button>
-->
    
    <!-- Tags (bookmark) -->
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/下载/">下载</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/流媒体/">流媒体</a>
    </ul>
    
    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    
    
    
    <!-- Busuanzi Views -->
    <a class="post_share-link" href="#">
        <li class="mdl-menu__item">
            <span id="busuanzi_container_page_pv">
                <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
            </span>
        </li>
    </a>
    
    
    <!-- Share Twitter -->
    <a class="post_share-link" href="https://twitter.com/intent/tweet?text=网络流媒体下载的 10 种方法（以下载 Echo 音乐为例）&url=http://login926.top//2016/07/06/WebMedia/index.html&via=Login926" target="_blank">
        <li class="mdl-menu__item">
            分享到 Twitter
        </li>
    </a>
    
    <!-- Share Google+ -->
    <a class="post_share-link" href="https://plus.google.com/share?url=http://login926.top//2016/07/06/WebMedia/index.html" target="_blank">
        <li class="mdl-menu__item">
            分享到 Google+
        </li>
    </a>
    
    <!-- Share Weibo -->
    <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=网络流媒体下载的 10 种方法（以下载 Echo 音乐为例）&url=http://login926.top//2016/07/06/WebMedia/index.html&pic=&searchPic=false&style=simple" target="_blank">
        <li class="mdl-menu__item">
            分享到微博
        </li>
    </a>
</ul>
</div>
				

                <!-- Post Content -->
                <div id="post-content" class="markdown-Github mdl-color-text--grey-700 mdl-card__supporting-text fade out">
	
		<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p><img src="https://ooo.0o0.ooo/2016/07/30/579d69308a990.png" alt="Echo"></p>
<p><a href="http://www.app-echo.com/" target="_blank" rel="external">Echo</a>是一款基于声音/音乐内容的社交媒体型产品。最早接触Echo，是同学分享的一首 3D 音乐，不过第一次使用便发现， Echo 似乎并不支持音乐下载。</p>
<a id="more"></a>
<p>其实Echo 上的音乐都是常规的流媒体，下载并不困难。文章介绍了网页版 Echo 以及 Echo 客户端中音乐下载的几种方法。</p>
<p>如果对流媒体下载很感兴趣，文章中的内容可能对你有所启发。</p>
<hr>
<h1 id="0x01-在-PC-上使用-Chrome-浏览器下载"><a href="#0x01-在-PC-上使用-Chrome-浏览器下载" class="headerlink" title="0x01 在 PC 上使用 Chrome 浏览器下载"></a>0x01 在 PC 上使用 Chrome 浏览器下载</h1><p><a href="http://www.google.cn/chrome/browser" target="_blank" rel="external">Chrome </a>支持浏览器扩展与开发者模式，所以我们可以使用浏览器中的嗅探扩展或开发者模式实现 Echo 音乐下载（Chrome 使用 <a href="http://www.chromium.org" target="_blank" rel="external">Chromium </a>内核，下面的方法在其他 Chromium 内核浏览器中同样适用）</p>
<h4 id="1-使用浏览器扩展"><a href="#1-使用浏览器扩展" class="headerlink" title="1.使用浏览器扩展"></a>1.使用浏览器扩展</h4><p>1.进入 ChromeWebStore 并添加 <a href="https://chrome.google.com/webstore/detail/chrono-download-manager/mciiogijehkdemklbdcbfkefimifhecn" target="_blank" rel="external">Chrono </a>扩展<br>2.打开 Echo 网页版，播放需要下载的音乐<br>3.点击 Chrono 图标，进入 Chrono 嗅探管理界面，选中 mp3 文件下载即可。</p>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E5%B7%B2%E6%88%90%E5%8A%9F%E5%97%85%E6%8E%A2.png" alt="已成功嗅探"></p>
<h4 id="2-使用-Chrome-开发者模式"><a href="#2-使用-Chrome-开发者模式" class="headerlink" title="2.使用 Chrome 开发者模式"></a>2.使用 Chrome 开发者模式</h4><p>1.按 F12 键打开开发者模式<br>2.进入<code>Network</code>标签下<br>3.打开 Echo 网页版并播放需要下载的音乐<br>4.找到<code>Type</code>为<code>Media</code>的文件</p>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E5%9B%BE%E4%B8%AD%E7%BB%BF%E8%89%B2%E9%AB%98%E4%BA%AE%E5%A4%84.png" alt="图中绿色高亮处"><br>5.右键，选择<code>Open link in new Tab</code><br>6.新标签页中会展示一个 Html5 播放器，右键选择<code>视频另存为</code>即可</p>
<h4 id="3-使用-Chrome-审查元素"><a href="#3-使用-Chrome-审查元素" class="headerlink" title="3.使用 Chrome 审查元素"></a>3.使用 Chrome 审查元素</h4><p>1.按 F12 进入审查元素<br>2.依次展开如下图项目，找到真实地址</p>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E7%BB%BF%E8%89%B2%E9%AB%98%E4%BA%AE%E5%A4%84%E5%8D%B3%E4%BD%8D%E7%9C%9F%E5%AE%9E%E5%9C%B0%E5%9D%80%EF%BC%8CEcho%20%E7%94%A8%E7%9A%84%E4%B9%9F%E6%98%AF%E4%B8%83%E7%89%9B%E7%9A%84%E6%9C%8D%E5%8A%A1.png" alt="绿色高亮处即位真实地址，Echo 用的也是七牛的服务"></p>
<p>3.复制地址访问<br>4.新标签页中会展示一个 Html5 播放器，右键选择<code>视频另存为</code>即可</p>
<h4 id="4-Chrome-配合-IDM-下载"><a href="#4-Chrome-配合-IDM-下载" class="headerlink" title="4.Chrome 配合 IDM 下载"></a>4.Chrome 配合 IDM 下载</h4><p>1.安装<a href="https://www.internetdownloadmanager.com/" target="_blank" rel="external"> Internet Download Manager </a>（IDM）<br>2.打开 IDM，进入 IDM 设置<br>3.添加 Chrome 浏览器集成<br><img src="http://oa0thinbz.bkt.clouddn.com/%E5%8B%BE%E9%80%89.png" alt="勾选Chrome"><br>4.启动 Chrome ，提示添加了<a href="https://chrome.google.com/webstore/detail/idm-integration-module-ex/cnlojoclkbpmfhakhaagjpjfifbaoadf?hl=zh-CN" target="_blank" rel="external"> IDM Integration Module 扩展</a><br>5.打开 Echo 回声网页版，播放需要下载的音乐<br>6.开始播放后浏览器中便会跳出下载浮动条<br><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E4%B8%8B%E8%BD%BD%E6%B5%AE%E5%8A%A8%E6%9D%A1.png" alt="下载浮动条"></p>
<p>7.点击下载即可</p>
<hr>
<h1 id="0x02-借助-Python-下载"><a href="#0x02-借助-Python-下载" class="headerlink" title="0x02 借助 Python 下载"></a>0x02 借助 Python 下载</h1><h4 id="1-Python3"><a href="#1-Python3" class="headerlink" title="1.Python3"></a>1.Python3</h4><p>在 Python3 可以使用 You-Get 下载 Echo 音乐，You-Get 具体使用方法请参考之前写的一篇<a href="http://www.jianshu.com/p/a3f8df948395" target="_blank" rel="external">《You-Get——基于 Python3 的媒体下载工具》</a>，这里直接给下载命令。同样的，类似 You-Get ，还有 <a href="https://github.com/rg3/youtube-dl" target="_blank" rel="external">youtube-dl </a>。</p>
<p>以<a href="http://www.app-echo.com/user/1547431" target="_blank" rel="external">金玟岐</a>的<a href="http://www.app-echo.com/sound/560030" target="_blank" rel="external">《吃掉我》</a>为例</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">you-get http://www.app-<span class="built_in">echo</span>.com/sound/<span class="number">560030</span></div></pre></td></tr></table></figure>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/You-Get%20%E4%B8%8B%E8%BD%BD%20Echo.png" alt="You-Get 下载 Echo"></p>
<h4 id="2-Python2"><a href="#2-Python2" class="headerlink" title="2.Python2"></a>2.Python2</h4><p>可以使用Github上的一个项目：<a href="https://github.com/cizel/echo-download" target="_blank" rel="external">Echo download</a>，Python 版本为 2.7</p>
<blockquote>
<p>作者：<a href="https://github.com/cizel" target="_blank" rel="external">cizel</a><br>Github：<a href="https://github.com/cizel/echo-download" target="_blank" rel="external">https://github.com/cizel/echo-download</a></p>
</blockquote>
<p>以<a href="http://www.app-echo.com/user/1547431" target="_blank" rel="external">金玟岐</a>的<a href="http://www.app-echo.com/sound/560030" target="_blank" rel="external">《吃掉我》</a>为例</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python <span class="built_in">echo</span>.py http://www.app-<span class="built_in">echo</span>.com/sound/<span class="number">560030</span></div></pre></td></tr></table></figure>
<hr>
<h1 id="0x03-在-Android-设备上使用-Xposed-模块下载"><a href="#0x03-在-Android-设备上使用-Xposed-模块下载" class="headerlink" title="0x03 在 Android 设备上使用 Xposed 模块下载"></a>0x03 在 Android 设备上使用 Xposed 模块下载</h1><ol>
<li>在 Android 设备上获取 Root 权限</li>
<li>选择对应版本的 Xposed 框架进行安装（建议在<a href="http://www.coolapk.com/search?q=Xposed" target="_blank" rel="external">酷安网</a>上下载）<br><img src="http://ww1.sinaimg.cn/large/9a8049afjw1f6yckw4a74j20zk0k0go0.jpg" alt="Xposed"></li>
<li>安装 <a href="http://www.coolapk.com/apk/com.phantom.onetapvideodownload" target="_blank" rel="external">Xposed One Tap Video Download</a>这个 Xposed 模块</li>
<li>进入 Xposed 模块管理，激活 Xposed One Tap Video Download<br><img src="http://ww4.sinaimg.cn/large/9a8049afjw1f6yclkbp4kj20zk0k040r.jpg" alt="激活 Xposed One Tap Video Download"></li>
<li>重启设备</li>
<li>在后台开启 Xposed One Tap Video Download</li>
<li>打开手机浏览器，访问网页版 Echo ，播放音乐（Xposed One Tap Video Download 暂时无法下载 Echo Android 客户端中的音乐）</li>
<li>此时通知栏会弹出提示，点击下载即可<br><img src="http://ww4.sinaimg.cn/large/9a8049afjw1f6ycnggfopj20zk0k0go7.jpg" alt="Xposed One Tap Video Download 提示"></li>
</ol>
<hr>
<h1 id="0x04-使用抓包软件下载"><a href="#0x04-使用抓包软件下载" class="headerlink" title="0x04 使用抓包软件下载"></a>0x04 使用抓包软件下载</h1><h4 id="1-网页版-Echo-抓取"><a href="#1-网页版-Echo-抓取" class="headerlink" title="1.网页版 Echo 抓取"></a>1.网页版 Echo 抓取</h4><p>演示以 Fiddler 4 为例，其他抓包软件类似。<br>1.打开 Fiddler 4<br>2.打开 Echo 网页版，并播放需要下载的音乐<br>3.切换到 Fiddler 界面<br>4.找乐符形式的图标<br><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E8%93%9D%E8%89%B2%E9%AB%98%E4%BA%AE%E5%A4%84.png" alt="蓝色高亮处"><br>5.右键选择<code>Copy</code>&gt; <code>Just URL</code><br>6.复制链接到浏览器或下载软件中下载即可</p>
<h4 id="2-使用流媒体抓取软件"><a href="#2-使用流媒体抓取软件" class="headerlink" title="2.使用流媒体抓取软件"></a>2.使用流媒体抓取软件</h4><p>这里推荐使用 <a href="https://cn.vso-software.fr/products/downloader/vso-downloader.php" target="_blank" rel="external">VSO Downloader </a>，原理是借助 WinCap 直接抓包获取流媒体，甚至可以下载一些无法使用普通下载器下载的流媒体，建议在淘宝<a href="https://sbcwangka.taobao.com/index.htm" target="_blank" rel="external">数码荔枝</a>购买由<a href="https://cn.vso-software.fr" target="_blank" rel="external">VSO</a>授权的<a href="https://item.taobao.com/item.htm?id=35161240656" target="_blank" rel="external">正版软件</a>。<br>1.下载并安装 <a href="https://cn.vso-software.fr/products/downloader/vso-downloader.php" target="_blank" rel="external"> VSO Downloader </a><br>2.打开 VSO Downloader<br>3.在任意浏览器中播放 Echo 网页版上的音乐<br>4.VSO Downloader 提示捕获mp3文件<br>5.选中下载即可，当然，试用版只能下载 50%</p>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/VSO%20Downloader.png" alt="VSO Downloader "></p>
<h4 id="3-通过手机代理抓取-Echo-客户端中的音乐"><a href="#3-通过手机代理抓取-Echo-客户端中的音乐" class="headerlink" title="3.通过手机代理抓取 Echo 客户端中的音乐"></a>3.通过手机代理抓取 Echo 客户端中的音乐</h4><ol>
<li>打开 Fiddler 4</li>
<li>进入 <code>Tools</code> &gt; <code>Fiddler Options</code></li>
<li>切换至 <code>Connections</code> 标签</li>
<li>勾选 <code>Allow remote computers to connect</code></li>
<li>手机与电脑连接至同一 Wifi 下</li>
<li>手机长按接入的热点，进入<code>高级设置</code></li>
<li>将代理一项调节为<code>手动</code></li>
<li>输入代理服务器地址，地址为电脑的局域网地址</li>
<li>端口填写 <code>8888</code><br><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86.png" alt="配置代理"><br>10.配置好代理收，手机打开 Echo 客户端播放需要下载的音乐<br>11.找乐符形式的图标，右键选择 <code>Copy</code> &gt; <code>Just URL</code><br>12.复制链接到浏览器或下载软件中下载即可</li>
</ol>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E5%9B%BE%E7%A4%BA%E4%B8%BA%20Android%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E8%BF%90%E8%A1%8C%20Echo.png" alt="图示为 Android 虚拟机中运行 Echo"></p>
<h4 id="4-在-Openwrt-路由器上抓包并下载"><a href="#4-在-Openwrt-路由器上抓包并下载" class="headerlink" title="4. 在 Openwrt 路由器上抓包并下载"></a>4. 在 Openwrt 路由器上抓包并下载</h4><blockquote>
<p>本节参考了<a href="http://www.right.com.cn/" target="_blank" rel="external">恩山无线论坛</a>上的<a href="http://www.right.com.cn/forum/thread-155213-1-1.html" target="_blank" rel="external">局域网嗅探教程（仅限科普使用） </a>一帖</p>
</blockquote>
<p>1.准备一个已刷入 Openwrt 系统的路由器<br>2.登陆路由器后台 Luci 界面<br>3.进入  <code>系统</code> &gt; <code>软件包</code><br>4.切换到  <code>配置</code>  标签下<br>5.将配置改为如下内容，并点击 提交 按钮</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">dest root /</div><div class="line">dest ram /tmp</div><div class="line">lists_dir ext /var/opkg-lists</div><div class="line">option overlay_root /overlay</div><div class="line">src/gz <span class="number">14</span>.<span class="number">09</span>_base http://downloads.openwrt.org.cn/PandoraBox/ralink/packages/base/</div><div class="line">src/gz <span class="number">14</span>.<span class="number">09</span>_telephony http://downloads.openwrt.org.cn/PandoraBox/ralink/packages/telephony/</div><div class="line">src/gz <span class="number">14</span>.<span class="number">09</span>_packages http://downloads.openwrt.org.cn/PandoraBox/ralink/packages/packages/</div><div class="line">src/gz <span class="number">14</span>.<span class="number">09</span>_routing http://downloads.openwrt.org.cn/PandoraBox/ralink/packages/routing/</div><div class="line">src/gz <span class="number">14</span>.<span class="number">09</span>_management http://downloads.openwrt.org.cn/PandoraBox/ralink/packages/management/</div><div class="line">src/gz <span class="number">14</span>.<span class="number">09</span>_oldpackages http://downloads.openwrt.org.cn/PandoraBox/ralink/packages/oldpackages/</div><div class="line">arch ralink <span class="number">1</span></div><div class="line">arch all <span class="number">2</span></div><div class="line">arch ramips_24kec <span class="number">3</span></div></pre></td></tr></table></figure>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E9%85%8D%E7%BD%AE.png" alt="配置"></p>
<p>7.切换回 <code>动作</code> 标签，点击 <code>刷新列表</code><br>8.等页面刷新完成<br>9.在<code>可用软件包</code>中找到 Tcpdump 并安装</p>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E5%AE%89%E8%A3%85%20Tcpdump.png" alt="安装 Tcpdump"><br>10.电脑上下载并安装 <a href="https://www.wireshark.org/download.html" target="_blank" rel="external">Wireshark</a> 与 <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" target="_blank" rel="external">Plink</a> (Wireshark 安装目录最好不要改动）<br>11.启动 cmd 并进入 Plink 目录<br>12.输入抓包命令，弹出 Wireshark 窗口</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">plink.exe -ssh -pw admin root@<span class="number">192</span>.<span class="number">168</span>.<span class="number">1</span>.<span class="number">1</span> "tcpdump -ni br-lan -s <span class="number">0</span> -w - <span class="keyword">not</span> port <span class="number">22</span>" | "C:\Program Files\Wireshark\Wireshark.exe" -k -i -</div></pre></td></tr></table></figure>
<p>其中<code>admin</code>为路由器管理员密码，<code>root</code>为管理员用户名，<code>192.168.1.1</code>为路由器后台地址，<code>br-lan</code>为需要抓包的端口，<code>port 22</code>为端口22，<code>C:\Program Files\Wireshark\Wireshark.exe</code>为 Wireshark 安装位置。</p>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E5%91%BD%E4%BB%A4%E6%AD%A3%E7%A1%AE%E4%BC%9A%E6%9C%89%E6%8F%90%E7%A4%BA.png" alt="命令正确会有提示"></p>
<p>13.Wireshark 启动，并会直接从路由器端口抓包，此时连入路由器的任意设备的包在Wireshark 中均可查看。（Wireshark 展示内容较多，什么时候开始抓包需要自己控制好）<br>15.在Wireshark 中输入筛选命令，筛选出 http 的 GET 数据包</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http.request.method==GET</div></pre></td></tr></table></figure>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E7%AD%9B%E9%80%89%20Get%20%E6%95%B0%E6%8D%AE%E5%8C%85.png" alt="筛选 Get 数据包"></p>
<p>16.从第一条结果开始，双击项目，再展开<code>Hypertext Transfer Protocol</code>，找到<code>Full Request URI</code>参数（那些直接在筛选结果中就能看到扩展名为<code>.png</code>之类的包就不要再花时间去看了）<br><img src="http://7xibe6.com1.z0.glb.clouddn.com/Full%20Request%20URI.png" alt="Full Request URI"></p>
<p>17.如果<code>Full Request URI</code>参数结尾有<code>mp3</code>扩展名，那么这便是该歌曲的真实链接，双击链接即可在浏览器中下载。</p>
<p><img src="http://7xibe6.com1.z0.glb.clouddn.com/%E6%89%BEmp3%E5%85%B3%E9%94%AE%E5%AD%97%E5%B0%B1%E8%A1%8C.png" alt="找mp3关键字就行"></p>
<hr>
<h1 id="0x05-其他的一些"><a href="#0x05-其他的一些" class="headerlink" title="0x05 其他的一些"></a>0x05 其他的一些</h1><p>1.如果要测试上述多种方法的话，每次尽量选择不同歌曲测试，同一歌曲会在本地留下缓存。<br>2.上述方法下载到的全部为原版文件，不会拿什么 Adobe Audition 来录制。<br>3.一些 Echo 音乐下载的小软件也可以去用，原理类似，但由于非开源软件，安全性未知。<br>4.Echo 上的音乐版权模糊，谨慎使用吧。</p>
<p><strong><em>5.文章可以以任意方式分享，转载请获授权。</em></strong></p>
<p>6.对文章有疑问可以留言，我会认真回复的，反正有(mei)的(you)是(nv)时(peng)间(you)</p>
<p><img src="http://oa0thinbz.bkt.clouddn.com/0.jpeg" alt="呵呵呵呵呵呵"></p>
<p>文章已同步发表至<a href="http://www.jianshu.com/p/e7d2c3a624f6" target="_blank" rel="external">简书</a></p>

	
	
	
	
</div>
				
				

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
        <div class="ds-thread" 
            data-thread-key="2016/07/06/WebMedia/" 
            data-url="http://login926.top/2016/07/06/WebMedia/"
            data-title="网络流媒体下载的 10 种方法（以下载 Echo 音乐为例）"></div>
    <!-- 多说评论框 end -->
</div>



                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    
    <!-- Prev Nav -->
    
        <a href="/2016/07/13/WebP/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            前滚翻
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/07/03/Baidu_Burpsuite/" id="post_nav-older" class="next-content">
            后滚翻
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>
        </div>
    </div>

				
				
					<!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay "></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored  sidebar-fixed-left" role="navigation">
	<div id="sidebar-main">
	    <!-- Sidebar Header -->
		<div class="sidebar-header header-cover" style="background-image: url(https://ooo.0o0.ooo/2016/12/25/585f47b16096f.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
    <i class="material-icons">clear_all</i>
    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://ooo.0o0.ooo/2016/07/30/579d6ad7910bd.jpg" alt="Login926's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        login926@foxmail.com
        <b class="caret"></b>
    </a>
</div>

		<!-- Sidebar Navigation  -->
		<ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
			
                <li>
                    <a href="mailto:login926@foxmail.com" target="_blank" title="Email Me">
						<i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        Email Me
                    </a>
                </li>
            
                <li>
                    <a href="/about" target="_blank" title="关于">
						<i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">person_pin</i>
                        关于
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    <li id="sidebar-first-li">
        <a href="/" target="_self">
            <i class="material-icons sidebar-material-icons">home</i>
             主页
        </a>
    </li>

    <!-- I'm Feeling Lucky -->

    <li class="dropdown">
        <a href="/board" target="_self">
            <i class="material-icons sidebar-material-icons">question_answer</i>
             留言板
        </a>
    </li>

    <li class="dropdown">
        <a href="/links" target="_self">
            <i class="material-icons sidebar-material-icons">group</i>
             小伙伴们
        </a>
    </li>

    <li class="dropdown">
        <a href="/tags" target="_self">
            <i class="material-icons sidebar-material-icons">loyalty</i>
             标签
        </a>
    </li>

    <li class="dropdown">
        <a href="/2048" target="_self">
            <i class="material-icons sidebar-material-icons">call_to_action</i>
             2048
        </a>
    </li>

    <li class="dropdown">
        <a href="/mind" target="_self">
            <i class="material-icons sidebar-material-icons">favorite</i>
             情愫
        </a>
    </li>

    <li class="dropdown">
        <a href="/htmlcengfantu" target="_self">
            <i class="material-icons sidebar-material-icons">place</i>
             蹭饭
        </a>
    </li>



    <!-- Archives  -->
    <li class="dropdown">
        <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
            <i class="material-icons sidebar-material-icons">inbox</i>
             归档
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li>
            <a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">4</span></a>
        </ul>
    </li>

    <!-- Divider
    <li class="divider"></li>
 -->

    <!-- Pages  -->
  <!--
	
		<li>
			<a href="/2048" title="2048">
				2048
			</a>
		</li>
	
		<li>
			<a href="/links" title="小伙伴们">
				小伙伴们
			</a>
		</li>
	
		<li>
			<a href="/mind" title="情愫">
				情愫
			</a>
		</li>
	
		<li>
			<a href="/htmlcengfantu" title="蹭饭图">
				蹭饭图
			</a>
		</li>
	
		<li>
			<a href="/board" title="留言板">
				留言板
			</a>
		</li>
	
-->
    <!-- Article Numebr  -->
    <!--
    <li>
        <a href="/archives">
             文章总数
             <span class="sidebar-badge">27</span>
        </a>
    </li>
</ul>
-->


		<!-- Sidebar Divider -->
		<div class="sidebar-divider"></div>

		<!-- Sidebar Footer -->
		<!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持。 :)
-->

<!-- Theme Material -->
<!--<a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
	<div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
		主题 原之质，物之渊
		<span class="sidebar-badge badge-circle">i</span>
	</div>
</a>-->

<li class="dropdown">
		<a href="https://material.vss.im/" target="_self">
				<i class="material-icons sidebar-material-icons">send</i>
				 原之质，物之渊
		</a>
</li>

<!-- Help & Support -->
<!--
<a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
		sidebar.help
		<span class="mdl-button__ripple-container">
			<span class="mdl-ripple"></span>
		</span>
	</div>
</a>
-->

<!-- Feedback -->
<!--
<a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.feedback
                    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>
-->

<!-- Abount Theme -->

<!--<a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.about_theme
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>-->

	</div>
    
    <!-- Sidebar Sponsor -->
    
    <div id="upyun-logo">
        <a href="https://www.upyun.com/" target="_blank">
            <img src="/img/hexo.png" alt="upyun_league">
        </a>
    </div>


</aside>

				
				
				
					<!-- Footer Top Button -->
					<div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>
				
				
				<!--Footer-->
<footer class="mdl-mini-footer" id="bottom">

	
		<!-- Paradox Footer Left Section -->
		<div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
    <a href="https://twitter.com/login926" target="view_window"><button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.png);">
        <span class="visuallyhidden">Twitter</span>
    </button></a>
    
    
    <!-- Facebook -->
    
    
    
    <!-- Google + -->
    
    
    
    <!-- Weibo -->
    
    <a href="http://weibo.com/login926" target="view_window"><button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-weibo.png);">
        <span class="visuallyhidden">Weibo</span>
    </button></a>
    
    
    <!-- Instagram -->
    
    
    
    <!-- Tumblr -->
    
    
    
    <!-- Github -->
    
    <a href="https://github.com/login926" target="view_window"><button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
        <span class="visuallyhidden">Github</span>
    </button></a>
    
</div>


		<!--Copyright-->
		<div id="copyright">CopyLeft&nbsp;©&nbsp;<script type="text/javascript">var fd = new Date();document.write(fd.getFullYear());</script>&nbsp;Raintone</div>
		<!-- Paradox Footer Right Section -->

		<!--
		I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright.
		It will not impact the appearance and can give developers a lot of support :)

		很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
		它不会影响美观并可以给开发者很大的支持。 :)
		-->

		<div class="mdl-mini-footer--right-section">
			<div>
				<div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
				<div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
				<div class="footer-develop-div">Base on <a href="https://github.com" target="_blank" class="footer-develop-a">Github</a></div>
			</div>
		</div>
	

</footer>

                
				<!-- Import File -->
<script src="/js/highlight.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    
    $('#nprogress .bar').css({
        'background': '#00B0FF'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #00B0FF, 0 0 15px #00B0FF'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#00B0FF',
        'border-left-color': '#00B0FF'
    });
    
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>






    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"login926"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = 'https://static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] 
             || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共 js 代码 end -->




<!-- Swiftye -->


<!-- Local Search-->

	<script>
	var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        success: function( xmlResponse ) {
            // get the contents from search data
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length <= 0) {
                    return;
                }
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        str += "<li><a href='"+ data_url +"' class='search-result-title' target='_blank'>"+ data_title;
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out characters
                            var start = first_occur - 6;
                            var end = first_occur + 6;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 10;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substr(start, end); 
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<em class=\"search-keyword\">"+keyword+"</em>");
                            })
                            str += "<p class=\"search-result\">" + match_content +"...</p>" +"</a>";
                        }
                    }
                })
                $resultContent.innerHTML = str;
            })
        }
    })
}
</script>

	<script>
        var inputArea = document.querySelector("#search");
        var getSearchFile = function(){
            var path = "search.xml";
            searchFunc(path, 'search', 'local-search-result');
        }

        inputArea.onfocus = function(){ getSearchFile() }
	</script>


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $(".post-toc-wrap").parent(".mdl-menu__container").css("position", "fixed");
    });
</script>

<!-- MathJax Load-->

            </main>
        </div>
		
    </body>
		
	
</html>
